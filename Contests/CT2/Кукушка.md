
### **Исходное состояние**

```
Гнезда: 1   2   3   4   5
Яйца:  (1,2)  (2,4)   -    -   (5,1)
```

Правило перекладывания:

* Яйцо `(x, y)` может быть только в `x` или `y`.
* Если кладём яйцо в одно из гнёзд и оно занято → выгоняем старое яйцо в **другое своё гнездо**.
* Если это гнездо тоже занято → продолжаем процесс, пока яйцо не попадёт в пустое гнездо.
* Процесс бесконечен, если яйцо возвращается в гнездо, которое оно уже посетило в этой цепочке.

---

## **Запрос 1:** `1 1 2` (теоретическое добавление `(1,2)` в 1)

* Тип 1 → состояние гнёзд не меняется.
* Перекладывания теоретические:

1. Кладём `(1,2)` в 1 → там `(1,2)` → выгоняется в 2
2. В 2 лежит `(2,4)` → выгоняется в 4
3. В 4 пусто → процесс завершён

**Вывод:** `Yes`
**Гнезда:**

```
1: (1,2)
2: (2,4)
3: -
4: -
5: (5,1)
```

---

## **Запрос 2:** `3` (сколько упорядоченных пар можно положить)

* Возможные новые яйца `(x,y)` с `x≠y`.
* Каждое можно положить в x или y.
* В этом состоянии можно положить все 10 пар × 2 = 20

**Вывод:** `20`
**Гнезда:** не меняются

---

## **Запрос 3:** `2 1 2` (практическое добавление `(1,2)` в 1)

Пошагово:

1. В 1 лежит `(1,2)` → выгоняем его в 2
2. В 2 лежит `(2,4)` → выгоняем его в 4
3. В 4 пусто → кладём `(2,4)`
4. В 1 кладём новое `(1,2)`

**Вывод:** `Yes`
**Гнезда после запроса:**

```
1: (1,2)
2: (1,2)
3: -
4: (2,4)
5: (5,1)
```

---

## **Запрос 4:** `3` (сколько упорядоченных пар можно положить)

* Новые яйца, которые можно добавить без бесконечного процесса:
  `(1,3)`, `(2,3)`, `(4,3)`, `(5,3)`
* Каждое можно положить в оба гнезда → 4 × 2 = 8

**Вывод:** `8`
**Гнезда:** не меняются

---

## **Запрос 5:** `2 4 2` (практическое добавление `(4,2)` в 4)

Пошагово:

1. Кладём `(4,2)` в 4 → там `(2,4)` → выгоняем в 2
2. В 2 лежит `(1,2)` → выгоняем в 1
3. В 1 лежит `(1,2)` → выгоняем в 2
4. В 2 снова попадает `(2,4)` → оно уже было в 2 в этой цепочке → **цикл → бесконечный процесс**

**Вывод:** `No`
**Гнезда:** не меняются

```
1: (1,2)
2: (1,2)
3: -
4: (2,4)
5: (5,1)
```

---

## **Запрос 6:** `2 5 3` (практическое добавление `(5,3)` в 5)

Пошагово:

1. Кладём `(5,3)` в 5 → там `(5,1)` → выгоняем в 1
2. В 1 лежит `(1,2)` → выгоняем в 2
3. В 2 лежит `(1,2)` → выгоняем в 1
4. В 1 лежит `(5,1)` → выгоняем в 5
5. В 5 лежит `(5,3)` → выгоняем в 3
6. В 3 пусто → кладём `(5,1)` → процесс завершён

**Гнезда после запроса:**

```
1: (1,2)
2: (1,2)
3: (5,1)
4: (2,4)
5: (5,3)
```

**Вывод:** `Yes`

---

## **Запрос 7:** `3` (сколько упорядоченных пар можно положить)

* В текущем состоянии новые яйца добавлять нельзя без бесконечного процесса → 0

**Вывод:** `0`
**Гнезда:** не меняются

```
1: (1,2)
2: (1,2)
3: (5,1)
4: (2,4)
5: (5,3)
```

---

## **Запрос 8:** `1 4 5` (теоретическое добавление `(4,5)` в 4)

* Проверяем:

1. В 4 лежит `(2,4)` → выгоняем в 2
2. В 2 лежит `(1,2)` → выгоняем в 1
3. В 1 лежит `(1,2)` → выгоняем в 2
4. В 2 возвращается `(2,4)` → оно уже было в этой цепочке → **цикл**

**Вывод:** `No`
**Гнезда:** не меняются

---

### ✅ Итоговый вывод всех запросов

```
Yes
20
Yes
8
No
Yes
0
No
```

---

